<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	template="../template/template.xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	>

	<ui:param name="page_name" value="cotisation" />
	<ui:define name="body">
	<meta charset="UTF-8"> </meta>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> </meta>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>	 
<script src="https://kit.fontawesome.com/d48cc587de.js" crossorigin="anonymous"></script>
 
		  <!-- about_area_start  -->
            <div class="row">
            <div class="col-lg-1 col-md-6">
                    <div class="about_img wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".3s">
                      <img   src="../vendor/img/Company/#{actifBean.actif.company.symbol}gif.gif" class="d-block w-100" alt="..."/>
                    </div>
     
                </div>
            <div class="col-lg-2 col-md-6">
                 <div class="about_info pl-68">
                        <div class="section_title wow fadeInUp" data-wow-duration="1.2s" data-wow-delay=".3s">
                            <h3> <h:outputText value="#{actifBean.actif.company.name}" /></h3>
                    
                     <h:outputText value="#{actifBean.actif.company.symbol}" />
                                
                        </div>
                        <p class="wow fadeInUp" data-wow-duration="1.2s" data-wow-delay=".4s"><h:outputText value="#{actifBean.actif.company.description}" />.</p>
                        <div class="about_list">
                         <h:outputText value="#{actifBean.actif.company.sector}" /> <BR />
                          <h:outputText value="#{actifBean.actif.company.industry}" /> <BR />
                             <h:outputText value="#{actifBean.actif.company.site}" /> <BR />
                          <h:outputText value="#{actifBean.actif.company.revenu}" /> <BR />
                           <i class="fa fa-user"></i>  <h:outputText value="#{actifBean.actif.company.fullTimeEmployer}" /> <BR />
                         <i class="fas fa-map-marker-alt"></i> <h:outputText value="#{actifBean.actif.company.address}" /> <BR />
                         <!--   <ul>
                                <li class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".5s">Loans with quick approval.</li>
                                <li class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".6s">Customize a loan based on the amount.</li>
                                <li class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".7s">Good credit profile and you have built your loan.</li class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".8s">
                                <li class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".9s">We provide online instant cash loans.</li>
                            </ul>  --> 
                        </div>
       
</div>
</div>
			<div class="col-lg-9 col-md-6">  <canvas id="myChart" style="width:5;height:8;"></canvas> 
			

			</div>
			</div>
			<div class="row ">
			<div class="col-lg-1"></div>
			<div class="col-lg-5 col-md-6">
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">highPrice</th>
      <th scope="col">lowPrice</th>
      <th scope="col">closedPrice</th>
      <th scope="col">openPrice</th>
      <th scope="col">adjClose</th>
      <th scope="col">date</th>
       
    </tr>
  </thead>
  <tbody>
  <ui:repeat value="#{actifBean.getHist(actifBean.actif.company.symbol)}" var="a">
    <tr>
      <th scope="row"></th>
      <td><h:outputText value="#{a.highPrice}" /></td>
    
		<td><h:outputText value="#{a.lowPrice}" /></td>
		<td><h:outputText value="#{a.closedPrice}" /></td>
		<td><h:outputText value="#{a.openPrice}" /></td>
		<td><h:outputText value="#{a.adjClose}" /></td>
		<td><h:outputText value="#{a.date}" /></td>
		
    </tr>
   </ui:repeat>
  </tbody>
</table>
			
			
			   </div>
			   
			  <div class="col-lg-6 col-md-6">
			                 <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"><a href="https://fr.tradingview.com/symbols/CURRENCYCOM-FB/" rel="noopener" target="_blank"><span class="blue-text">FB Informations sur le symbole</span></a> par TradingView</div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js" async='async'>
  {
  "symbol": #{actifBean.CURRENCYCOM},
  "width": 1000,
  "locale": "fr",
  "colorTheme": "light",
  "isTransparent": false
}
  </script>
</div>
<!-- TradingView Widget END -->
			   <div class="card">
				  <div class="card-body">
				  <h3> Rendemet</h3>
				   rendementAnuel : <h:outputText value="#{actifBean.rendementAnuel('FB')}" />
				  rendement : <br/>
				   	<input type="date" class="form-control mr-sm-2" jsf:value="#{actifBean.stringdate1}"/>
      	<input type="date" class="form-control mr-sm-2" jsf:value="#{actifBean.stringdate2}"/>
		 <h:panelGroup >
                <h:form>
		
		<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  rendementByPeriod
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        
     
      </div>
      <div class="modal-body">
          <h:outputText value="#{actifBean.rendementByPeriod('FB')}" />
      </div>
      
    </div>
  </div>
</div>
			</h:form>
			</h:panelGroup>
				  </div>
				</div>
		
			  </div>
			</div>
			

  	<div class="row"><div id="googleMap" style="width:75%;height:400px;"></div></div>

  			
  <script>
  
    let myChart = document.getElementById('myChart').getContext('2d');
   
    // Global Options
    Chart.defaults.global.defaultFontFamily = 'Lato';
    Chart.defaults.global.defaultFontSize = 18;
    Chart.defaults.global.defaultFontColor = '#777';


    let massPopChart = new Chart(myChart, {
        type:'line', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
        data:{
          labels:  #{actifBean.getDates(actifBean.actif.company.symbol)},
          datasets:[{
            label:'Date',
            data:
          	  #{actifBean.getPrice(actifBean.actif.company.symbol)}
            ,
            //backgroundColor:'green',
            backgroundColor:[
              'rgba(255, 99, 132, 0.6)',
              'rgba(54, 162, 235, 0.6)',
              'rgba(255, 206, 86, 0.6)',
              'rgba(75, 192, 192, 0.6)',
              'rgba(153, 102, 255, 0.6)',
              'rgba(255, 159, 64, 0.6)',
              'rgba(255, 99, 132, 0.6)'
            ],
            borderWidth:1,
            borderColor:'#777',
           hoverBorderWidth:3,
            hoverBorderColor:'#000'
          }]
        },
        options:{
          title:{
            display:true,
            text:'evolution prix action',
            fontSize:25
          },
          legend:{
            display:true,
            position:'right',
            labels:{
              fontColor:'#000'
            }
          },
          layout:{
            padding:{
              left:50,
              right:0,
              bottom:0,
              top:0
            }
          },
          tooltips:{
            enabled:true
          }
        }
      });
  </script>
<script>
function myMap() {
	
	 var myLatLng = {lat: 37.4835973, lng: -122.1488842};
var mapProp= {
  center:new google.maps.LatLng(myLatLng),
  zoom:5,
};

var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    title: 'Hello World!'
  });
marker.setMap(mapProp);
}
</script>
 


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpfS1oRGreGSBU5HHjMmQ3o5NLw7VdJ6I&amp;callback=myMap"></script>			

	</ui:define>
</ui:composition>